# Разработка Desktop-приложений на Tauri

[Tauri](https://tauri.app/) - Framework на Rust, обеспечивающий мульти-платформенную разработку Desktop-приложений. Tauri создаёт окно web-брайзера, без элементов пользовательского интерфейса браузера и запускает в нём web-приложение. Существует возможность вызвать из web-приложений нативный код, скомпилированный из исходников на Rust, что позволяет, в частности, выполнять взаимодействие с узлами компьютера на низком уровне.

Ключевые достоинства Tauri:

- очень маленький размер package - в десятки раз меньше, чем прилолжения Electron, или Avalonia
- возможность выполнять вычислительно эффективный нативый код (скомпилированный из Rust с использованием LLVM)
- пользовательский интерфейс можно разрабатывать удобным для web-программиста образом, используя: HTML/CSS/JS, SvelteKit, Next.js, Vite, и т.д.

## Начало работы с Rust

Рекомендуется установить генератор шаблонного кода:

``` shell
cargo install create-tauri-app
```

Эта команда загрузит исходные тексты утилиты и скомпилирует её под текущую платформу. Процесс может занять несколько минут.

Генерация каркаса приложения осуществляется командой:

``` shell
cargo create-tauri-app
```

В процессе работу приложения требуется ответить на ряд вопросов генератора кода, в частности, выбрать web-платформу. В сгенерированном проекте будет две части: web-приложение (в папке src) и Rust-приложение (в папке src-tauri). Для сборки приложения следует перейти в папку `src-tauri` и выполнить команду:

``` shell
cargo build --release
```

Для сборки Tauri-приложения требуется загрузить 200+ crates (вспомогательных библиотек). Сборка приложения может занять больше минуты. В результате компиляции, на платформе Windows создаётся исполняемый файл размером ~5 мегабайт, который можно запустить на исполнение.

Для сборки приложения в Ubuntu 22.04 необходимо предварительно разрешить в Software & Updates, в разделе "Ubuntu Software" следующие источники данных: "Canonical-supported free and open-source software (main)" и "Source code". После этого следует установить [pre-requisites](https://tauri.app/v1/guides/getting-started/prerequisites):

``` shell
sudo apt update
sudo apt install libwebkit2gtk-4.0-dev \
    build-essential \
    curl \
    wget \
    libssl-dev \
    libgtk-3-dev \
    libayatana-appindicator3-dev \
    librsvg2-dev
```

Исполняемый файл занимает около 11 Мбайт и запускается менее, чем за секунду.
